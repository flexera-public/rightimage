{
  "description": "A cookbook for building RightImages",
  "groupings": {
  },
  "attributes": {
    "rightimage/google/client_id": {
      "description": "OAuth2 credentials client id for GCE. Pulled from gcutil conf",
      "type": "string",
      "required": "optional",
      "calculated": false,
      "recipes": [
        "rightimage::cloud_upload"
      ],
      "display_name": "Google client id",
      "choice": [

      ]
    },
    "rightimage/google/project_id": {
      "description": "GCE Project ID to register this image for",
      "type": "string",
      "required": "optional",
      "calculated": false,
      "recipes": [
        "rightimage::cloud_upload"
      ],
      "display_name": "Google Project ID",
      "choice": [

      ]
    },
    "rightimage/azure/shared_key": {
      "description": "Shared key for the storage account to upload the image to.  If supplied, will use Image Upload Bucket as the container to uplaod to.  If not supplied, will let Azure command line tool automatically determine a storage account and container to upload to. ",
      "type": "string",
      "required": "recommended",
      "calculated": false,
      "recipes": [
        "rightimage::cloud_upload"
      ],
      "display_name": "Azure Shared Key",
      "choice": [

      ]
    },
    "rightimage/openstack/password": {
      "description": "Password for user to access API of Openstack Cloud Controller.",
      "type": "string",
      "default": "",
      "required": "optional",
      "calculated": false,
      "recipes": [
        "rightimage::cloud_upload"
      ],
      "display_name": "Openstack Password",
      "choice": [

      ]
    },
    "rightimage/timestamp": {
      "description": "Initial build date of this image, and also the archive date from which to pull packages. Expected format is YYYYMMDDHHMM. If not supplied, will use latest available date.",
      "type": "string",
      "required": "recommended",
      "calculated": false,
      "recipes": [

      ],
      "display_name": "Build timestamp and mirror freeze date",
      "choice": [

      ]
    },
    "rightimage/cloudstack/cdc_url": {
      "description": "URL to your CloudStack Cloud Controller. (Ex. http://<server_ip>:8080/client/api)",
      "type": "string",
      "required": "required",
      "calculated": false,
      "recipes": [
        "rightimage::cloud_upload"
      ],
      "display_name": "CloudStack API URL",
      "choice": [

      ]
    },
    "rightimage/datacenter": {
      "description": "Datacenter/Zone ID.  Defaults to 1.  Use US/UK for rackspace. Use DFW/ORD/LON for rackspace-v2",
      "type": "string",
      "default": "1",
      "required": "recommended",
      "calculated": false,
      "recipes": [

      ],
      "display_name": "Datacenter ID",
      "choice": [

      ]
    },
    "rightimage/rebundle_git_repository": {
      "description": "Git repository to checkout from when building a rebundle image",
      "type": "string",
      "default": "",
      "required": "optional",
      "calculated": false,
      "recipes": [
        "rightimage::default",
        "rightimage::rebundle"
      ],
      "display_name": "Rebundle Git Repository",
      "choice": [

      ]
    },
    "rightimage/rebundle_base_image_id": {
      "description": "Cloud specific ID for the image to start with when building a rebundle image",
      "type": "string",
      "default": "",
      "required": "optional",
      "calculated": false,
      "recipes": [
        "rightimage::default",
        "rightimage::rebundle"
      ],
      "display_name": "Rebundle Base Image ID",
      "choice": [

      ]
    },
    "rightimage/rackspace/account": {
      "description": "Rackspace Account ID",
      "type": "string",
      "required": "required",
      "calculated": false,
      "recipes": [
        "rightimage::rebundle",
        "rightimage::default"
      ],
      "display_name": "Rackspace Account ID",
      "choice": [

      ]
    },
    "rightimage/aws_509_cert": {
      "description": "aws_509_cert",
      "type": "string",
      "required": "required",
      "calculated": false,
      "recipes": [
        "rightimage::cloud_upload",
        "rightimage::rebundle",
        "rightimage::default",
        "rightimage::ec2_download_bundle"
      ],
      "display_name": "aws_509_cert",
      "choice": [

      ]
    },
    "rightimage/aws_access_key_id": {
      "description": "aws_access_key_id",
      "type": "string",
      "required": "required",
      "calculated": false,
      "recipes": [
        "rightimage::cloud_upload",
        "rightimage::rebundle",
        "rightimage::default",
        "rightimage::ec2_download_bundle",
        "rightimage::build_base",
        "rightimage::build_image",
        "rightimage::upload_image_s3",
        "rightimage::base_upload",
        "rightimage::image_tests",
        "rightimage::report_upload",
        "rightimage::s3index_update"
      ],
      "display_name": "aws_access_key_id",
      "choice": [

      ]
    },
    "rightscale/mci_name": {
      "description": "MCI to add this image to. If empty, use image_name attribute",
      "type": "string",
      "default": "",
      "required": "optional",
      "calculated": false,
      "recipes": [
        "rightimage::do_create_mci"
      ],
      "display_name": "MCI Name",
      "choice": [

      ]
    },
    "rightscale/api_url": {
      "description": "The rightscale account specific api url to use.  Ex. https://my.rightscale.com/api/acct/1234 (where 1234 is your account id)",
      "type": "string",
      "required": "optional",
      "calculated": false,
      "recipes": [
        "rightimage::do_create_mci"
      ],
      "recommended": true,
      "display_name": "API URL",
      "choice": [

      ]
    },
    "rightscale/api_password": {
      "description": "Rightscale API password.",
      "type": "string",
      "required": "optional",
      "calculated": false,
      "recipes": [
        "rightimage::do_create_mci"
      ],
      "recommended": true,
      "display_name": "API Password",
      "choice": [

      ]
    },
    "rightimage/platform": {
      "description": "The operating system for the virtual image.",
      "type": "string",
      "required": "optional",
      "calculated": false,
      "recipes": [

      ],
      "display_name": "Guest OS Platform",
      "choice": [
        "centos",
        "ubuntu",
        "suse",
        "rhel"
      ]
    },
    "rightimage/google/gc_secret_access_key": {
      "description": "Google storage (interoperable) secret access key",
      "type": "string",
      "required": "optional",
      "calculated": false,
      "recipes": [
        "rightimage::cloud_upload"
      ],
      "display_name": "Google secret_access_key",
      "choice": [

      ]
    },
    "rightimage/azure/storage_account": {
      "description": "Storage account to upload the image to. Required when supplying a Shared Key",
      "type": "string",
      "required": "recommended",
      "calculated": false,
      "recipes": [
        "rightimage::cloud_upload"
      ],
      "display_name": "Azure Storage Account",
      "choice": [

      ]
    },
    "rightimage/cloudstack/cdc_secret_key": {
      "description": "CloudStack secret key.",
      "type": "string",
      "required": "required",
      "calculated": false,
      "recipes": [
        "rightimage::cloud_upload"
      ],
      "display_name": "CloudStack Secret Key",
      "choice": [

      ]
    },
    "rightimage/euca/secret_access_key": {
      "description": "The EC2_SECRET_KEY value defined in your eucarc credentials file. User must have admin privileges.",
      "type": "string",
      "required": "required",
      "calculated": false,
      "recipes": [
        "rightimage::cloud_upload"
      ],
      "display_name": "Eucalyptus Secret Access Key",
      "choice": [

      ]
    },
    "rightimage/euca/euca_url": {
      "description": "Base URL to your Eucalyptus Cloud Controller. Don't include port. (Ex. http://<server_ip>)",
      "type": "string",
      "required": "required",
      "calculated": false,
      "recipes": [
        "rightimage::cloud_upload"
      ],
      "display_name": "Eucalyptus URL",
      "choice": [

      ]
    },
    "rightscale/api_user": {
      "description": "RightScale API username. Ex. you@rightscale.com",
      "type": "string",
      "required": "optional",
      "calculated": false,
      "recipes": [
        "rightimage::do_create_mci"
      ],
      "recommended": true,
      "display_name": "API User",
      "choice": [

      ]
    },
    "rightimage/build_number": {
      "description": "Build number of this image.  Defaults to 0",
      "type": "string",
      "default": "0",
      "required": "recommended",
      "calculated": false,
      "recipes": [

      ],
      "display_name": "Build number",
      "choice": [

      ]
    },
    "rightimage/debug": {
      "description": "If set, a random root password will be set for debugging purposes. NOTE: you must include 'Dev' in the image name or the build with fail.",
      "type": "string",
      "default": "false",
      "required": "optional",
      "calculated": false,
      "recipes": [

      ],
      "display_name": "Development Image?",
      "choice": [
        "true",
        "false"
      ]
    },
    "rightimage/build_mode": {
      "description": "Build base image, full image, or migrate existing image.",
      "type": "string",
      "required": "required",
      "calculated": false,
      "recipes": [

      ],
      "display_name": "Build Mode",
      "choice": [
        "base",
        "migrate",
        "full"
      ]
    },
    "rightimage/azure/cert": {
      "description": "Azure Management Certificate",
      "type": "string",
      "required": "required",
      "calculated": false,
      "recipes": [
        "rightimage::cloud_upload"
      ],
      "display_name": "Azure Management Certificate",
      "choice": [

      ]
    },
    "rightimage/rackspace/api_token": {
      "description": "Rackspace API Token",
      "type": "string",
      "required": "required",
      "calculated": false,
      "recipes": [
        "rightimage::rebundle",
        "rightimage::default"
      ],
      "display_name": "Rackspace API Token",
      "choice": [

      ]
    },
    "rightimage/aws_account_number": {
      "description": "aws_account_number",
      "type": "string",
      "required": "required",
      "calculated": false,
      "recipes": [
        "rightimage::cloud_upload",
        "rightimage::rebundle",
        "rightimage::default",
        "rightimage::ec2_download_bundle",
        "rightimage::build_base",
        "rightimage::build_image",
        "rightimage::upload_image_s3",
        "rightimage::base_upload",
        "rightimage::image_tests",
        "rightimage::report_upload",
        "rightimage::s3index_update"
      ],
      "display_name": "aws_account_number",
      "choice": [

      ]
    },
    "rightimage/ec2/image_type": {
      "description": "Type of EC2 Image cloud_upload recipe will create",
      "type": "string",
      "default": "InstanceStore",
      "required": "recommended",
      "calculated": false,
      "recipes": [
        "rightimage::build_image",
        "rightimage::default",
        "rightimage::cloud_upload"
      ],
      "display_name": "EC2 Image Type",
      "choice": [
        "InstanceStore",
        "EBS"
      ]
    },
    "rightimage/rebundle_git_revision": {
      "description": "Git repository revision to checkout from when building a rebundle image",
      "type": "string",
      "default": "",
      "required": "optional",
      "calculated": false,
      "recipes": [
        "rightimage::default",
        "rightimage::rebundle"
      ],
      "display_name": "Rebundle Git Revision",
      "choice": [

      ]
    },
    "rightimage/image_name": {
      "description": "The name you want to give this new image.",
      "type": "string",
      "required": "required",
      "calculated": false,
      "recipes": [

      ],
      "display_name": "Image Name",
      "choice": [

      ]
    },
    "rightimage/manual_mode": {
      "description": "Sets the template's operation mode. Ex. 'true' = don't build at boot time.",
      "type": "string",
      "default": "true",
      "required": "optional",
      "calculated": false,
      "recipes": [
        "rightimage::default"
      ],
      "display_name": "Manual Mode",
      "choice": [
        "true",
        "false"
      ]
    },
    "rightimage/euca/access_key_id": {
      "description": "The EC2_ACCESS_KEY value defined in your eucarc credentials file. User must have admin privileges.",
      "type": "string",
      "required": "required",
      "calculated": false,
      "recipes": [
        "rightimage::cloud_upload"
      ],
      "display_name": "Eucalyptus Access Key",
      "choice": [

      ]
    },
    "rightimage/image_source_bucket": {
      "description": "When migrating an image, where to download the image from.",
      "type": "string",
      "default": "rightscale-us-west-2",
      "required": "optional",
      "calculated": false,
      "recipes": [
        "rightimage::default",
        "rightimage::ec2_download_bundle"
      ],
      "display_name": "Image Source Bucket",
      "choice": [

      ]
    },
    "rightimage/openstack/user": {
      "description": "User to access API of Openstack Cloud Controller.",
      "type": "string",
      "default": "",
      "required": "optional",
      "calculated": false,
      "recipes": [
        "rightimage::cloud_upload"
      ],
      "display_name": "Openstack User",
      "choice": [

      ]
    },
    "rightimage/openstack/hostname": {
      "description": "Hostname of Openstack Cloud Controller.",
      "type": "string",
      "default": "",
      "required": "optional",
      "calculated": false,
      "recipes": [
        "rightimage::cloud_upload"
      ],
      "display_name": "Openstack Hostname",
      "choice": [

      ]
    },
    "rightimage/hypervisor": {
      "description": "Which hypervisor is this image for?",
      "type": "string",
      "required": "required",
      "calculated": false,
      "recipes": [

      ],
      "display_name": "Hypervisor",
      "choice": [
        "xen",
        "kvm",
        "esxi",
        "hyperv",
        "virtualbox"
      ]
    },
    "rightimage/rightlink_version": {
      "description": "The RightLink version we are building into our image",
      "type": "string",
      "required": "required",
      "calculated": false,
      "recipes": [
        "rightimage::default",
        "rightimage::build_image",
        "rightimage::rightscale_rightlink",
        "rightimage::rebundle",
        "rightimage::rightscale_install",
        "rightimage::do_create_mci"
      ],
      "display_name": "RightLink Version",
      "choice": [

      ]
    },
    "rightimage/cloud": {
      "description": "The supported cloud for the virtual image. If unset, build a generic base image.",
      "type": "string",
      "required": "recommended",
      "calculated": false,
      "recipes": [

      ],
      "display_name": "Target Cloud",
      "choice": [
        "ec2",
        "cloudstack",
        "eucalyptus",
        "openstack",
        "rackspace",
        "rackspace-managed",
        "rackspace-v2",
        "rackspace-managed-v2",
        "azure",
        "google"
      ]
    },
    "rightimage/platform_version": {
      "description": "The OS version to build into the virtual image.",
      "type": "string",
      "required": "optional",
      "calculated": false,
      "recipes": [

      ],
      "display_name": "Guest OS Version",
      "choice": [
        "5.4",
        "5.6",
        "5.8",
        "6.2",
        "6.3",
        "10.04",
        "10.10",
        "12.04"
      ]
    },
    "rightimage/azure/id": {
      "description": "Azure Subscription ID",
      "type": "string",
      "required": "required",
      "calculated": false,
      "recipes": [
        "rightimage::cloud_upload"
      ],
      "display_name": "Azure Subscription ID",
      "choice": [

      ]
    },
    "rightimage/cloudstack/version": {
      "description": "CloudStack version.",
      "type": "string",
      "required": "required",
      "calculated": false,
      "recipes": [
        "rightimage::cloud_upload"
      ],
      "display_name": "CloudStack Version",
      "choice": [
        "2",
        "3"
      ]
    },
    "rightimage/euca/euca_cert": {
      "description": "The contents of the file pointed to by the EUCALYPTUS_CERT value defined in your eucarc credentials file.",
      "type": "string",
      "required": "required",
      "calculated": false,
      "recipes": [
        "rightimage::cloud_upload"
      ],
      "display_name": "Eucalyptus Cloud Certificate",
      "choice": [

      ]
    },
    "rightscale/cloud_id": {
      "description": "The numeric ID in RightScale for the cloud which we will create this image for. For example, 6 = AWS Oregon, 232 = Rackspace",
      "type": "string",
      "required": "optional",
      "calculated": false,
      "recipes": [
        "rightimage::do_create_mci"
      ],
      "recommended": true,
      "display_name": "RightScale Cloud ID (integer)",
      "choice": [

      ]
    },
    "rightimage/region": {
      "description": "The EC2 region in which the image will reside",
      "type": "string",
      "required": "required",
      "calculated": false,
      "recipes": [

      ],
      "display_name": "EC2 Region",
      "choice": [
        "us-east",
        "us-west",
        "us-west-2",
        "eu-west",
        "ap-southeast",
        "ap-southeast-2",
        "ap-northeast",
        "sa-east"
      ]
    },
    "rightimage/google/client_secret": {
      "description": "OAuth2 credentials client secret for GCE. Pulled from gcutil conf",
      "type": "string",
      "required": "optional",
      "calculated": false,
      "recipes": [
        "rightimage::cloud_upload"
      ],
      "display_name": "Google client secret",
      "choice": [

      ]
    },
    "rightimage/euca/x509_key": {
      "description": "The contents of the file pointed to by the EC2_PRIVATE_KEY value defined in your eucarc credentials file.",
      "type": "string",
      "required": "required",
      "calculated": false,
      "recipes": [
        "rightimage::cloud_upload"
      ],
      "display_name": "Eucalyptus x509 Private Key",
      "choice": [

      ]
    },
    "rightimage/image_upload_bucket": {
      "description": "The bucket to upload the image to.",
      "type": "string",
      "required": "required",
      "calculated": false,
      "recipes": [
        "rightimage::base_upload",
        "rightimage::build_base",
        "rightimage::default",
        "rightimage::build_image",
        "rightimage::upload_image_s3",
        "rightimage::ec2_download_bundle",
        "rightimage::cloud_upload",
        "rightimage::upload_image_s3"
      ],
      "display_name": "Image Upload Bucket",
      "choice": [

      ]
    },
    "rightimage/google/gc_access_key_id": {
      "description": "Google storage (interoperable) access key id",
      "type": "string",
      "required": "optional",
      "calculated": false,
      "recipes": [
        "rightimage::cloud_upload"
      ],
      "display_name": "Google access_key_id",
      "choice": [

      ]
    },
    "rightimage/azure/region": {
      "type": "string",
      "default": "West US",
      "required": "recommended",
      "calculated": false,
      "recipes": [
        "rightimage::cloud_upload"
      ],
      "display_name": "Azure Location",
      "choice": [
        "West Europe",
        "North Europe",
        "Southeast Asia",
        "East Asia",
        "West US",
        "East US"
      ]
    },
    "rightimage/cloudstack/cdc_api_key": {
      "description": "CloudStack API key.",
      "type": "string",
      "required": "required",
      "calculated": false,
      "recipes": [
        "rightimage::cloud_upload"
      ],
      "display_name": "CloudStack API Key",
      "choice": [

      ]
    },
    "rightimage/euca/user_id": {
      "description": "The EC2_USER_ID value defined in your eucarc credentials file. User must have admin privileges.",
      "type": "string",
      "required": "required",
      "calculated": false,
      "recipes": [
        "rightimage::cloud_upload"
      ],
      "display_name": "Eucalyptus User ID",
      "choice": [

      ]
    },
    "rightimage/aws_509_key": {
      "description": "aws_509_key",
      "type": "string",
      "required": "required",
      "calculated": false,
      "recipes": [
        "rightimage::cloud_upload",
        "rightimage::rebundle",
        "rightimage::default",
        "rightimage::ec2_download_bundle"
      ],
      "display_name": "aws_509_key",
      "choice": [

      ]
    },
    "rightimage/root_size_gb": {
      "description": "Sets the size of the virtual image. Units are in GB.",
      "type": "string",
      "default": "10",
      "required": "optional",
      "calculated": false,
      "recipes": [
        "rightimage::default",
        "rightimage::build_base",
        "rightimage::build_image",
        "rightimage::loopback_copy",
        "rightimage::block_device_backup",
        "rightimage::block_device_create",
        "rightimage::block_device_restore",
        "rightimage::loopback_resize",
        "rightimage::loopback_mount",
        "rightimage::loopback_create",
        "rightimage::cloud_add",
        "rightimage::cloud_upload",
        "rightimage::cloud_package"
      ],
      "display_name": "Root Size GB",
      "choice": [
        "10",
        "4",
        "2"
      ]
    },
    "rightimage/google/refresh_token": {
      "description": "Refresh token value for GCE. Pulled form gcutil conf",
      "type": "string",
      "required": "optional",
      "calculated": false,
      "recipes": [
        "rightimage::cloud_upload"
      ],
      "display_name": "Google OAuth2 credentials refresh token",
      "choice": [

      ]
    },
    "rightimage/euca/x509_cert": {
      "description": "The contents of the file pointed to by the EC2_CERT value defined in your eucarc credentials file.",
      "type": "string",
      "required": "required",
      "calculated": false,
      "recipes": [
        "rightimage::cloud_upload"
      ],
      "display_name": "Eucalyptus x509 Certificate",
      "choice": [

      ]
    },
    "rightimage/aws_secret_access_key": {
      "description": "aws_secret_access_key",
      "type": "string",
      "required": "required",
      "calculated": false,
      "recipes": [
        "rightimage::cloud_upload",
        "rightimage::rebundle",
        "rightimage::default",
        "rightimage::ec2_download_bundle",
        "rightimage::build_base",
        "rightimage::build_image",
        "rightimage::upload_image_s3",
        "rightimage::base_upload",
        "rightimage::image_tests",
        "rightimage::report_upload",
        "rightimage::s3index_update"
      ],
      "display_name": "aws_secret_access_key",
      "choice": [

      ]
    },
    "rightimage/arch": {
      "description": "The architecture for the virtual image.",
      "type": "string",
      "required": "optional",
      "calculated": false,
      "recipes": [

      ],
      "display_name": "Guest OS Architecture",
      "choice": [
        "x86_64",
        "i386"
      ]
    }
  },
  "conflicting": {
  },
  "suggestions": {
  },
  "maintainer_email": "support@rightscale.com",
  "version": "1.0.0",
  "recommendations": {
  },
  "license": "Apache v2.0",
  "replacing": {
  },
  "providing": {
  },
  "platforms": {
  },
  "recipes": {
    "rightimage::loopback_mount": "mounts loopback file system",
    "rightimage::block_device_backup": "creates an EBS snapshot from attached EBS volume",
    "rightimage::cloud_upload": "upload and register image with cloud",
    "rightimage::rightscale_install": "installs rightscale",
    "rightimage::block_device_create": "creates, formats, and mounts a brand new EBS volume",
    "rightimage::cloud_add": "configures base os image for a specific cloud",
    "rightimage::rebundle": "coordinate a rebundled image build (redhat on on ec2 or rackspace)",
    "rightimage::build_base": "build base image based on host platform",
    "rightimage::report_upload": "Checksums compressed images, adds info to reports, and uploads reports alongside images",
    "rightimage::loopback_create": "creates and mounts loopback file system",
    "rightimage::do_create_mci": "creates RightScale MultiCloudImage (MCI) for image (only ec2 currently supported)",
    "rightimage::loopback_copy": "creates non-partitioned loopback fs image from a partitioned one",
    "rightimage::s3index_update": "Updates the index.html of the upload bucket",
    "rightimage::upload_image_s3": "bundle and upload private cloud image to s3 bucket for distribution/download",
    "rightimage::cloud_package": "packages RightImage for a specific cloud",
    "rightimage::default": "starts builds image automatically at boot. See 'manual_mode' input to enable.",
    "rightimage::base_upload": "upload raw image to s3",
    "rightimage::loopback_unmount": "unmounts loopback file system",
    "rightimage::image_tests": "run some basic tests on mounted image such as grepping for credentials",
    "rightimage::ec2_download_bundle": "Downloads bundled image from EC2 S3.",
    "rightimage::build_image": "build image based on host platform",
    "rightimage::loopback_resize": "resizes loopback file system",
    "rightimage::enable_debug": "enables a root login on image for debugging purposes",
    "rightimage::clean": "cleans everything",
    "rightimage::image_report": "Compiles information into a json report by parsing system calls and optional hint files",
    "rightimage::block_device_destroy": "unmounts, and deletes an attached EBS volume",
    "rightimage::block_device_restore": "creates a new EBS volume by restoring from an EBS snapshot",
    "rightimage::base_os": "build a base image"
  },
  "long_description": "",
  "maintainer": "RightScale, Inc.",
  "name": "rightimage",
  "dependencies": {
    "rightimage_cloud_vagrant": ">= 0.0.0",
    "rightscale": ">= 0.0.0",
    "rightimage_tester": ">= 0.0.0",
    "loopback_fs": ">= 0.0.0",
    "block_device": ">= 0.0.0"
  }
}